document.addEventListener("DOMContentLoaded",function(){const form=document.getElementById("contactForm");if(!form){console.error("Form not found!");return}
form.addEventListener("submit",async function(event){event.preventDefault();const email=document.getElementById("email")?.value.trim();const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!email||!emailRegex.test(email)){Swal.fire({icon:"error",title:"Oops!",text:"Please enter a valid email address.",showConfirmButton:!1,timer:2500});return}
const formData=new FormData(form);try{const response=await fetch(form.action,{method:"POST",body:formData,headers:{'Accept':'application/json'}});if(response.ok){Swal.fire({icon:"success",title:"Merci!",text:"You are now registered.",showConfirmButton:!1,timer:2500});setTimeout(()=>form.reset(),2000)}else{throw new Error("Form submission failed")}}catch(error){Swal.fire({icon:"error",title:"Erreur",text:"Une erreur s'est produite. Veuillez r√©essayer plus tard.",});console.error("Form submission error:",error)}})})